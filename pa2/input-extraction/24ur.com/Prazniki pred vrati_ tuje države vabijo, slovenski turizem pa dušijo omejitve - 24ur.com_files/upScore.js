!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/assets/",n(n.s=4)}([function(e,t,n){"use strict";function r(e,t){for(var n in t)e[n]=t[n];return e}function o(e){var t=upScore.config.ignoredElements;if(void 0!==t){for(var n=0;n<t.css.length;n++)if(e.classList.contains(t.css[n]))return!0;for(var r=0;r<t.id.length;r++)if(e.id===t.id[r])return!0;for(var o=0;o<t.tag.length;o++)if(e.tagName.toLowerCase()===t.tag[o].toLowerCase())return!0}return!1}function i(e){for(var t=1;e=e.previousSibling;)1!==e.nodeType||o(e)||++t;return t}function a(e){var t=upScore.config.bubbleStops;if(void 0!==t){if(void 0!==t.id)for(var n=0;n<t.id.length;n++){var r=t.id[n];if("/"===r[0]&&null!==e.id.match(new RegExp(r.substring(1),"g")))return!0;if(e.id===r)return!0}if(void 0!==t.css)for(var o=0;o<t.css.length;o++){var i=t.css[o];if("/"===i[0]){if(null!==e.className.match(new RegExp(i.substring(1),"g")))return!0}else if(e.classList.contains(i))return!0}if(void 0!==t.tag)for(var a=0;a<t.tag.length;a++){var c=t.tag[a];if(e.tagName.toLowerCase()===c.toLowerCase())return!0}}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.removeEvent=function(e,t,n){e.addEventListener?e.removeEventListener(t,n,!0):e.attachEvent&&e.detachEvent("on"+t,n)},t.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent&&e.attachEvent("on"+t,n)},t.eventPath=function(e){var t=e.composedPath&&e.composedPath()||e.path,n=e.target;if(null!=t)return t=t.indexOf(window)<0?t.concat([window]):t;if(n===window)return[window];return[n].concat(function e(t,n){n=n||[];var r=t.parentNode;return r?e(r,n.concat([r])):n}(n)).concat([window])},t.simulateEvent=function(e,t){var n,o={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/},i={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},a=r(i,arguments[2]||{}),c=null;for(var u in o)if(o[u].test(t)){c=u;break}if(!c)throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported");if(document.createEvent)n=document.createEvent(c),"HTMLEvents"==c?n.initEvent(t,a.bubbles,a.cancelable):n.initMouseEvent(t,a.bubbles,a.cancelable,document.defaultView,a.button,a.pointerX,a.pointerY,a.pointerX,a.pointerY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,e),e.dispatchEvent(n);else{a.clientX=a.pointerX,a.clientY=a.pointerY;var l=document.createEventObject();n=r(l,a),e.fireEvent("on"+t,n)}return e},t.extractRootDomain=function(e){var t=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);if(null==t)return"";var n=t[1],r=n.split("."),o=r.length;o>2&&(n=r[o-2]+"."+r[o-1],2==r[o-2].length&&2==r[o-1].length&&(n=r[o-3]+"."+n));return n},t.isIgnored=o,t.tracePath=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0!==upScore.config.uniqueContainers&&!0===upScore.config.uniqueContainers)return e.className.replace(/ /g,"-");var n="";for(;"BODY"!==e.nodeName&&(n=i(e)+"."+n,!a(e=e.parentElement)););var r=(n+"-"+e.className).replace(/ /g,"-");if(t&&"article"===upScore.data.object_type&&null!=upScore.data.object_id&&""!==upScore.data.object_id)return r+"-"+upScore.data.object_id;if(t&&"article"===upScore.data.object_type&&void 0!==upScore.config.getIdFromURL){var o=upScore.config.getIdFromURL(e.baseUri);return"string"==typeof o?r+"-"+o:r}return r},t.formatNumberWithTCommas=function(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},t.checkBubbleStops=a,t.documentHeight=function(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)},t.removeProtocol=function(e){return e.replace(/.*?:\/\//g,"")},t.addScript=function(e){var t=document.createElement("script"),n=document.getElementsByTagName("script")[0];t.async=1,t.src=e,n.parentNode.insertBefore(t,n)},t.isLocalStorageAvailable=function(){try{return"undefined"!=typeof localStorage&&null!=localStorage}catch(e){return!1}},t.getTopCoordinate=function(e){var t=e.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,i=r.clientTop||n.clientTop||0,a=t.top+o-i;return Math.round(a)},t.days_diff=function(e,t){var n=new Date(e),r=new Date(t),o=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()),i=Date.UTC(r.getFullYear(),r.getMonth(),r.getDate())-o;return 0===i?0:Math.round(i/864e5)},t.sendRequest=function(e,t,n,r){var o=new XMLHttpRequest,i=n?"POST":"GET";o.open(i,e,!0),n&&o.setRequestHeader("Content-type","application/x-www-form-urlencoded");if(o.onreadystatechange=function(){4==o.readyState&&(200==o.status||o.status,t(o))},4==o.readyState)return;r&&r.forEach((function(e){for(var t in e)e.hasOwnProperty(t)&&o.setRequestHeader(t,e[t])}),this);o.send(n)},t.URLEncode=function(e){var t,n;null===e&&(e={});return function(){var r;for(t in r=[],e)n=e[t],r.push([t,encodeURIComponent(n)].join("="));return r}().join("&")},t.getIgnoreAndAdvElementsOffset=function(e,t){for(var n=0,r=document.getElementsByTagName("body")[0],o=""!==r.style.paddingTop?Number(window.getComputedStyle(r).paddingTop.slice(0,-2)):Number(r.style.paddingTop),i=0;i<e.length;i++){var a=e[i].offsetHeight,c=e[i].tagName,u=e[i].offsetTop;u<t&&u+a>t||t>u+a?n+=a:"BODY"===c&&o>0&&(n-=o)}return n},t.getArrayFromNodeList=function(e){for(var t=[],n=0,r=t.length=e.length;n<r;n++)t[n]=e[n];return t},t.throttle=function(e,t){var n=!1,r=void 0,o=void 0;return function i(){if(n)return r=arguments,void(o=this);n=!0,e.apply(this,arguments),setTimeout((function(){n=!1,r&&(i.apply(o,r),r=o=null)}),t)}},t.xor_encode=function(e,t){return function(e){var t,n,r,o,i,a,c,u,s=0,d="";if(!e)return e;do{t=e[s++],n=e[s++],r=e[s++],o=(c=t<<16|n<<8|r)>>12&63,i=c>>6&63,a=63&c,d+=l.charAt(c>>18&63)+l.charAt(o)+l.charAt(i)+l.charAt(a)}while(s<e.length);return((u=e.length%3)?d.slice(0,u-3):d)+"===".slice(u||3)}(t=function(e,t){return e=u(e),u(t).map((function(t,n){return t^e[Math.floor(n%e.length)]}))}(e,t))},t.xor_decode=function(e,t){return t=function(e){var t,n,r,o,i,a,c,u,s=0,d=[];if(!e)return e;e+="";do{o=l.indexOf(e.charAt(s++)),i=l.indexOf(e.charAt(s++)),a=l.indexOf(e.charAt(s++)),c=l.indexOf(e.charAt(s++)),t=(u=o<<18|i<<12|a<<6|c)>>16&255,n=u>>8&255,r=255&u,d.push(t),64!==a&&(d.push(n),64!==c&&d.push(r))}while(s<e.length);return d}(t),function(e,t){return e=u(e),function(e){var t=[],n=0,r=0;for(;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){i=e[n++];var a=e[n++],c=e[n++],u=((7&o)<<18|(63&i)<<12|(63&a)<<6|63&c)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(t.map((function(t,n){return t^e[Math.floor(n%e.length)]})))}(e,t)};t.getSendMethod=function(){var e=navigator;return-1==e.userAgent.indexOf("FBSN/iOS")&&void 0!==e.sendBeacon?function(t,n){e.sendBeacon(t,n)}:window.fetch?function(e,t){fetch(e,{method:"POST",body:t})}:function(e,t){var n;(n=new XMLHttpRequest).open("POST",e,!0),n.send(t)}};function c(e){var t,n,r,o,i,a,c;for(r={x:"0123456789abcdef",y:"89ab"},n=function(e){var t;return t=Math.floor(Math.random()*e.length),e.charAt(t)},o="",i=0,a=(c=e.split("")).length;i<a;i++)o+=void 0!==r[t=c[i]]?n(r[t]):t;return o}t.UUID4=function(){return c("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx")},t.SesID=function(){return c("xxxx-xxxx-xxxx-yxxxxx")};function u(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendError=function(e,t){var n=r(e,t);o("Error",n)},t.sendWarning=function(e,t){var n=r(e,t);o("Warning",n)};function r(e,t){try{var n=void 0;try{n=navigator.userAgent}catch(e){}var r=void 0;try{r=document.location.href}catch(e){}var o=void 0,i=void 0;try{null!=upScore&&null!=upScore.data&&(i=upScore.data),o=null!=i&&i.hasOwnProperty("domain")?i.domain:document.domain}catch(e){}return{url:r,user_agent:n,domain:o,message:e,data:i,exception:null!=t?{message:t.message,stack:t.stack,name:t.name}:null}}catch(t){}}function o(e,t){t.type=e;var n=new XMLHttpRequest;return n.open("POST","//hit-error.upscore.com",!0),n.send(JSON.stringify(t))}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.InViewport=function(e,t,n){-1===a(e)&&o.push([e,t,n])};var r=n(0),o=[],i=(0,r.throttle)((function(){for(var e=o.length-1;e>=0;e--)c.apply(this,o[e])}),500);function a(e){for(var t=o.length-1;t>=0;t--)if(o[t][0]===e)return t;return-1}function c(e,t,n){u(e,t)&&setTimeout((function(){u(e)&&function(e){var t=a(e);return-1!==t&&(o.splice(t,1),!0)}(e)&&n(e)}),700)}function u(t,n){if(n=n||0,!document.body.contains(t))return!1;if(!t.offsetWidth||!t.offsetHeight)return!1;var r=t.getBoundingClientRect(),o=-n,i=0,a=e.document.documentElement.clientWidth,c=e.document.documentElement.clientHeight+n;return r.right>=i&&r.left<=a&&r.bottom>=o&&r.top<=c}(0,r.addEvent)(window,"scroll",i),(0,r.addEvent)(window,"resize",i),setInterval(i,1e3)}).call(this,n(7))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={}}return r(e,[{key:"add",value:function(e){this.events=Object.assign(this.events,e)}},{key:"pop",value:function(){var e=JSON.stringify(this.events);return this.events={},e}},{key:"count",value:function(){return Object.keys(this.events).length}},{key:"popObj",value:function(){var e=Object.assign({},this.events);return this.events={},e}}]),e}();t.Events=o},function(e,t,n){"use strict";var r=n(0);n(5);var o=n(6),i=n(8),a=n(3);n(9);var c=n(11),u=n(12),l=n(13),s=n(1),d=n(14),f=n(15),p=n(2);!function(){"undefined"==typeof upScore&&(upScore={});var e=i.UpScoreStore;upScore.store=e,upScore.config={trackingUrl:"//hit-pool.upscore.com/",posEndpoint:"//positions.upscore.com",hudUrl:"//files.upscore.com/hud/upScoreHUD.js",domain:"",article:null,debug:!1,track_positions:!1,trackArticles:!1,session_enabled:!0,loyalty:{page_count:1,loyal:{days:14,visits:10},repeat:{days:14,visits:2}}};var t=upScore.config,n=w(),v=new a.Events,g=null,h=null,m=null,y=(0,r.getSendMethod)(),S=!1,b=_();upScore.data=b,upScore.reinit=x,upScore.config_loaded=!1,upScore.track=function(){O(),setInterval(k,1e3),S&&C()},upScore.initialize_tracker=O,upScore.event=function(e){n.finalSent||v.add(e)},upScore.particles=[],upScore.addParticle=d.addParticle,upScore.sendWarning=s.sendWarning,upScore.inViewport=p.InViewport,upScore.addScript=r.addScript,upScore.posTrack=o.PositionTracker,upScore.post=y;try{docReady((function e(){if(void 0!==upScore.q){void 0===upScore.lf&&(upScore.lf=1*new Date);for(var t=0;t<upScore.q.length;t++)if(void 0!==upScore.q[t].config)return void E()}else setTimeout(e,50)}),this)}catch(e){(0,s.sendError)("doc-ready",e)}function w(){return{pulseDelay:1e4,pulseTimer:null,userDormant:!1,next_url:"",finalSent:!1,timestamp_init:(new Date).getTime(),iframe_particles:{},track_positions:!1,gallery:[]}}function _(){return{uuid:e.get("uuid"),hit_id:"",articleSeen:0,adblock:"0",object_type:"",section:"",author:"",user_agent:navigator.userAgent,referrer:document.referrer,url:document.location.href,loyalty:"N"}}function x(e){try{if(void 0!==t.isReinitValid&&!t.isReinitValid(e))return;if(0==upScore.config_loaded)return void setTimeout(x.bind(this,e),1e3);"PROPLUS"===t.upScoreClient&&1==upScore.config_loaded&&"videoTracking"!==e.reinitType&&e.object_id!==upScore.data.object_id&&(t.playerAttachAttempts=7,clearInterval(t.attachPlayerTimer),clearInterval(t.flowTimer),t.attachPlayerTimer=null,t.attachPlayerRefresher()),""!=b.hit_id&&(H("final"),window.clearTimeout(n.pulseTimer)),n=w(),null!=(r=e)?function(e){b=_(),e.url&&""!==e.url?b.url=e.url:b.url=document.location.href,e.hasOwnProperty("config")&&(upScore.config=Object.assign(upScore.config,e.config),t=upScore.config),b=e.hasOwnProperty("data")?Object.assign(b,e.data):Object.assign(b,e),upScore.data=b}(r):void 0===r&&".cz"==!document.domain.substring(document.domain.length-3,document.domain.length)&&(0,s.sendWarning)("reinit - data object was undefined",null),C(),void 0!==upScore.HUDreinit&&setTimeout(upScore.HUDreinit(),1e3)}catch(e){(0,s.sendError)("reinit",e)}var r}function P(){for(var e=!1,t=0;t<upScore.q.length;t++){var n=upScore.q[t],r=void 0!==n.config,o=void 0!==n.data;r&&(j(t),e=!0,o&&(S=!0))}e||setTimeout(P,100)}function E(){try{if(P(),upScore.initialized)return;if(upScore.initialized=!0,function(){try{if(void 0!==document.body){var e=document.createElement("div");e.innerHTML="&nbsp;",e.className="adsbox",document.body.appendChild(e),n.adElement=e}}catch(e){}}(),""===t.domain)return void console.error("upScore tracker has to have a domain defined! Add 'domain' to config.");var o="//files.upscore.com/config/"+t.domain+".js";if((0,r.addScript)(o),(0,r.isLocalStorageAvailable)()&&(0,f.ProcessCommands)(e),upScore.hud_active&&!e.get("debug"))return;(0,r.addEvent)(window,"mousemove",A),(0,r.addEvent)(window,"keyup",A);var i="onpagehide"in window?"pagehide":"beforeunload";(0,r.addEvent)(window,i,(function(){H("final")})),g=T,(0,r.addEvent)(document,"click",g),(0,r.addEvent)(document,"auxclick",g)}catch(e){(0,s.sendError)("tracker-load",e)}}function O(){try{if(function(){try{null!=localStorage.getItem("#enableUpScoreHUD")&&(upScore.hud_active=!0)}catch(e){}upScore.hud_active&&(t.track_positions||t.trackArticles&&"article"===b.object_type)&&(void 0!==t.hud_delay?setTimeout((0,r.addScript)(t.hudUrl),t.hud_delay):(0,r.addScript)(t.hudUrl));var n=e.get("debug");void 0!==n&&(t.debug=JSON.parse(n))}(),null!=t.heatmap&&(h=l.ClickHeatMap).init(),upScore.config_loaded=!0,t.user_id&&0==e.get("uuid")){var n=(0,r.UUID4)();e.set("uuid",n),b.uuid=n}if(upScore.hud_active&&"true"!==e.get("debug"))return;"video"!==b.object_type&&(0,r.addEvent)(window,"scroll",I),null!=b.url&&""!==b.url||(b.url=document.location.href)}catch(e){(0,s.sendError)("initialize-tracker",e)}}function T(e){try{var o=(e=e||window.event).target||e.srcElement;if(h&&h.add(e),"body"==o.tagName.toLowerCase())return;n.click_target=o,n.click_event=e;var i=t.clickIgnore;if(void 0!==i)for(var a=void 0===i.levelUp?1:i.levelUp,c=o,u=0;u<a;u++){for(var l=0;l<i.css.length;l++)if(c.classList.contains(i.css[l]))return;for(var d=0;d<i.id.length;d++)if(c.id===i.id[d])return;for(var f=0;f<i.tag.length;f++)if(c.tagName.toLowerCase()===i.tag[f].toLowerCase())return;c=c.parentElement}!function(e){var t=(e=e||window.event).target||e.srcElement;if(n.track_positions){var r=upScore.posTrack.getClickedPositionUrl(t);if(null!=r)return void(n.next_url=r)}if(null!==t.getAttribute("href"))n.next_url=t.hostname+t.pathname;else for(var o=0;o++<4&&!n.next_url;){if(null==(t=t.parentElement))return;null===t.getAttribute("href")||(n.next_url=t.hostname+t.pathname)}}(e),void 0===navigator.sendBeacon&&(H("final"),Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString()?t.debug&&console.log("Safari detected. Click not prevented."):(e.preventDefault(),(0,r.removeEvent)(document,"click",g),window.setTimeout(function(){(0,r.simulateEvent)(n.click_target,"click",{altKey:!!n.click_event.altKey,ctrlKey:!!n.click_event.ctrlKey,metaKey:!!n.click_event.metaKey,shiftKey:!!n.click_event.shiftKey})}.bind(this),500)))}catch(e){(0,s.sendError)("click-handler",e)}}function k(){upScore.q.length>0&&j(0)}function j(e){var r=upScore.q.splice(e,1)[0];if(void 0!==r.config&&(upScore.config=Object.assign(upScore.config,r.config)),void 0!==r.data&&(upScore.initialized?x(r.data):(b=Object.assign(b,r.data),upScore.data=b)),void 0!==r.events)if(Array.isArray(r.events))for(var o=0;o<r.events.length;o++)upScore.event(r.events[o]);else upScore.event(r.events);if(void 0!==r.event)try{if("gallery"==r.event){e=r.options.image;if(t.gallery_as_pageview)if(1==e)b.sequence=1;else x(Object.assign({},b,{sequence:e}));else n.gallery.push(e),upScore.event({gallery:"ia:"+n.gallery,gallery_total:"i:"+n.gallery.length})}else console.warn("Event type not supported: ",r)}catch(e){console.warn("UpScore event processing error: ",r,e)}}function C(){try{n.track_positions=t.track_positions&&"landingpage"===b.object_type||t.trackArticles&&"article"===b.object_type&&void 0===t.posSample||t.posSample>=Math.random(),n.track_positions&&(o=!1,i=void 0!==upScore.data.reinitType?upScore.data.reinitType:"",a=-1!==b.object_type.indexOf("article"),void 0!==upScore.page&&""!==upScore.page&&0==o||"videoTracking"===i||"landingpage"!==b.object_type&&0==a||void 0!==t.trackArticles&&0==t.trackArticles&&1==a||(t.trackArticles&&1==a?void 0!==t.articlePositionPageName?upScore.page=t.domain+t.articlePositionPageName():upScore.page=t.domain+"-article":upScore.page=window.location.hostname+window.location.pathname),upScore.posTrack.init()),b.hit_id=1*new Date+"_"+Math.floor(1e7*Math.random()),void 0!==t.transformURL&&(b.vurl=t.transformURL(b.url)),e.update_section(b.section,t.session_enabled),(0,c.UpdateLoyalty)();var r=.1;t.scroll_sample&&(r=t.scroll_sample),r>Math.random()&&(m=u.ScrollFocus).init(),void 0!==t.onInitHit&&t.onInitHit(b),H("init"),n.pulseTimer=setTimeout(D,1e4)}catch(e){(0,s.sendError)("init-hit",e)}var o,i,a}function A(){n.userDormant=!1,n.pulseDelay=1e4}function D(){t.debug&&console.log("Pulse time is now: "+n.pulseDelay+"ms"),n.pulseDelay>6e4?H("final"):(-1===b.object_type.indexOf("video")&&0===upScore.particles.length&&(n.pulseDelay=n.userDormant?parseInt(1.5*n.pulseDelay):n.pulseDelay,n.userDormant=!0),H("pulse"),n.pulseTimer=setTimeout(D,n.pulseDelay))}function I(){var e=window.pageYOffset||document.documentElement.scrollTop||0,n=window.innerHeight||document.documentElement.clientHeight||0,o=t.article;if(o){var i=document.querySelector(o);if(i){var a=e+n,c=(0,r.getTopCoordinate)(i);if(a>c){var u=parseInt((a-c)/i.clientHeight*100);u>100&&(u=100),b.articleSeen<u&&(b.articleSeen=u)}return}}var l=(0,r.documentHeight)(),s=parseInt((e+n)/l*100);s>100&&(s=100),b.articleSeen=s}function M(r){try{b.type=r,function(){try{void 0!==n.adElement&&(0===n.adElement.offsetHeight&&(b.adblock="1"),document.body.removeChild(n.adElement),delete n.adElement)}catch(e){}}();var o={};switch("video"===b.object_type?function(){if(void 0!==t.video_duration&&(b.custom_view_time=t.video_duration),void 0!==b.custom_view_time&&b.custom_view_time>0){var e=(new Date).getTime()-n.timestamp_init,r=parseInt(e/b.custom_view_time*100);r>100&&(r=100),b.articleSeen<r&&(b.articleSeen=r)}}():I(),r){case"init":o=Object.assign(o,b);var i=e.getSection();""!==i&&(o.referrer_section=i);var a=e.activityUpdate();o.session=JSON.stringify({id:a.sId,cnt:a.sl,t:a.sd});try{o.loading_time=upScore.lf-upScore.ls}catch(e){}o.tv=3,o.cv=t.version||0,void 0!==t.customDataHandler&&(o=t.customDataHandler(o));break;case"pulse":e.activityUpdate(),o.hit_id=b.hit_id,o.uuid=b.uuid,o.url=b.url,o.type=b.type,o.articleSeen=b.articleSeen,void 0!==t.customPulseHandler&&(o=t.customPulseHandler(o));break;case"final":n.finalSent=!0,m&&(o.scroll_heat=m.getHeatMap()),o.next_url=n.next_url,o=Object.assign(o,b);var c=e.activityUpdate();o.session=JSON.stringify({id:c.sId,cnt:c.sl,t:c.sd}),void 0!==t.customDataHandler&&(o=t.customDataHandler(o))}var u=(new Date).getTime()-n.timestamp_init;return u<0&&(u=0),o.elapsed_time=u,v.count()>0&&(o.events=v.pop()),o}catch(e){(0,s.sendError)("pack-data",e)}}function H(e){try{if(n.finalSent)return;var o=M(e);if(null!=o){var i=(0,d.packParticles)();null!=i&&(o.particles=JSON.stringify(i));var a=(0,r.URLEncode)(o);t.debug&&console.log("Sent data: "+t.trackingUrl+" "+JSON.stringify(o,null,"\t")),y(t.trackingUrl,a),void 0!==t.extraTrackingUrl&&t.extraTrackingUrl.length>0&&y(t.extraTrackingUrl,a)}!function(){try{if(!n.track_positions)return;try{if(1*new Date-upScore.ls>3e5&&"landingpage"==b.object_type)return}catch(e){}var e=upScore.posTrack.getPositions();if(null==e)return;if(h){var r=h.pop();e.clickStream=r}e.hit_id=b.hit_id,e.user_id=b.uuid;var o={positions:e};try{if(void 0!==t.onBeforePositionsSend&&!0!==t.onBeforePositionsSend(o))return}catch(e){}2===t.debug&&console.log("Sent positions: "+t.posEndpoint+" "+JSON.stringify(o,null,"\t"));var i=JSON.stringify(o);y(t.posEndpoint,i),void 0!==t.extraPositionUrl&&t.extraPositionUrl.length>0&&y(t.extraPositionUrl,i)}catch(e){(0,s.sendError)("send-positions",e)}}()}catch(e){(0,s.sendError)("send-hit",e)}}window.addEventListener("message",(function(e){try{var t=JSON.parse(e.data),r=t.upScore_msg_type;if(!r)return;if("video_init"==r){var o=upScore.addParticle(t.data);n.iframe_particles[t.iframe_id]=o}else if("video_event"==r){(o=n.iframe_particles[t.iframe_id]).addEvent(t.data)}}catch(e){}}))}()},function(e,t,n){"use strict";!function(e,t){var n=[],r=!1,o=!1;function i(){if(!r){r=!0;for(var e=0;e<n.length;e++)n[e].fn.call(t,n[e].ctx);n=[]}}function a(){"complete"===document.readyState&&i()}t.docReady=function(e,c){r?setTimeout((function(){e(c)}),1):(n.push({fn:e,ctx:c}),"complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(i,1):o||(document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),t.addEventListener("load",i,!1)):(document.attachEvent("onreadystatechange",a),t.attachEvent("onload",i)),o=!0))}}(0,window)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PositionTracker=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(0),i=n(2),a=n(1);t.PositionTracker=function(){var e=[],t={},n=[],c={},u=1;function l(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var r,o;!function(){for(var a=void 0!==upScore.initDynamicPosition,c=2===upScore.config.debug,u=document.querySelectorAll("[data-upscore-zone]"),l=Array.prototype.slice.call(u,0),f=0;f<l.length;f++)for(var p=l[f],v=Array.prototype.slice.call(p.querySelectorAll("[data-upscore-object-id]"),0),g=0;g<v.length;g++){var h=v[g];if(r=f+"-"+g,!h.dataset.upscorePosition){h.dataset.upscorePosition=r,n&&a&&(o=s(h),upScore.initDynamicPosition(h,o.url,o.path,""));(0,i.InViewport)(h,.8*-h.offsetHeight,function(t){var n=s(t);c&&(t.style.boxShadow="inset 0px 0px 0px 1px #f00",d("Seen positions:",[n])),e.push({url:n.url,path:n.path})}.bind(t,h))}}if(c){var m=Array.prototype.slice.call(document.querySelectorAll("[data-upscore-position]"),0);d("Tracked positions:",m.map(s))}}()}catch(e){(0,a.sendError)("init-positions",e)}}function s(e){var t=e.dataset.upscorePosition,n=e.dataset.upscoreObjectId,r=e.querySelector("[data-upscore-url]"),o="";r&&r.href?o=r.href:void 0!==e.dataset.upscoreUrl&&(o=e.href);var i=e.querySelector("[data-upscore-title]"),a={title:i&&function(e){var t=null;void 0!==e.title&&""!==e.title?t=e.title:void 0!==e.text&&""!==e.text?t=e.text:void 0!==e.innerText?t=e.innerText:void 0!==e.innerHTML&&(t=e.innerHTML);return t}(i),url:o,path:t,object_id:n};return void 0!==upScore.config.transformPosition&&upScore.config.transformPosition(a,e),a}function d(e,t){console.group(e),console.table(t),console.groupEnd()}function f(e){var t=e.dataset.upscorePosition||e.trackedPositionPath,n=c[t];if(null!=n){n.path=(0,o.tracePath)(e,n.articlePosition),n.url=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=void 0;if("node"===r)o=e;else{if("no-url"==r)return"no-url";o=e.querySelector(r)}if(null!=o&&void 0!==o.href&&""!==o.href){var i=o.hostname+o.pathname;return 1==upScore.config.useFullPosUrl&&(i=encodeURIComponent(i+o.search)),void 0!==upScore.config.transformPosUrl&&(i=upScore.config.transformPosUrl(i)),i}}return null}(n.node,n.urlSelector),n.title=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=null;if(null!==(o="node"===r?e:e.querySelector(r))){var i=null;if(void 0!==o.title&&""!==o.title?i=o.title:void 0!==o.text&&""!==o.text?i=o.text:void 0!==o.innerText?i=o.innerText:void 0!==o.innerHTML&&(i=o.innerHTML),null!=i&&""!==i)return i=i.replace(/\"/g,'\\"'),void 0!==upScore.config.transformPosTitle&&null!==upScore.config.transformPosTitle&&(i=upScore.config.transformPosTitle(i)),i}}return null}(n.node,n.titleSelector),n.img=null;var r={};return n.title&&(r.title=n.title),n.path&&(r.path=n.path),n.url&&(r.url=n.url),n.img&&(r.img=n.img),n.ribbonClass&&(r.ribbonClass=n.ribbonClass),void 0!==upScore.config.transformPosition&&upScore.config.transformPosition(r,e),r}}function p(e,n){var r=(0,o.tracePath)(e,n);return!0===t[r]}function v(){if((void 0===upScore.config.uniqueContainers||!0!==upScore.config.uniqueContainers)&&void 0!==upScore.config.bubbleStops){if(void 0!==upScore.config.bubbleStops.css)for(var e=0;e<upScore.config.bubbleStops.css.length;e++)if("/"!=upScore.config.bubbleStops.css[e][0])for(var t=document.getElementsByClassName(upScore.config.bubbleStops.css[e]),n=0;n<t.length;n++)t[n].classList.contains("upScoreSkip")||-1!=t[n].className.indexOf("upscore-pos-")||t[n].classList.add("upscore-pos-"+u++);if(void 0!==upScore.config.bubbleStops.tags)for(var r=0;r<upScore.config.bubbleStops.tag.length;r++)for(var o=document.getElementsByClassName(upScore.config.bubbleStops.tag[r]),i=0;i<o.length;i++)-1==o[i].className.indexOf("upscore-pos-")&&o[i].classList.add("upscore-pos-"+u++)}}return upScore.refreshDynamicPositions=function(){var n=this,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.querySelectorAll("body");try{var l,s,g,h,m=function(){var r=2===upScore.config.debug,a=upScore.config.dynamicPositions;if(void 0===a)return{v:void 0};for(v(),l=0;l<u.length;l++){s=u[l];var m=function(){var u=a[g],l=s.querySelectorAll(u.container),v=Array.prototype.slice.call(l,0),m=function(){var a=v[h];if((0,o.isIgnored)(a))return"continue";var l=(0,o.tracePath)(a,u.articlePosition),s={node:a,urlSelector:u.urlSelector,imageSelector:u.imageSelector,titleSelector:u.titleSelector,articlePosition:u.articlePosition,ribbonClass:u.ribbonClass};c[l]=s,void 0!==a.trackedPositionPath&&r&&console.log("Dynamic position from tracked element: ",f(a)),a.trackedPositionPath=l;(0,i.InViewport)(a,.8*-a.offsetHeight,function(n){var o=p(a,u.articlePosition),i=void 0!==upScore.initDynamicPosition;if(!o||r||i){var c=f(n);if(r&&(n.style.boxShadow="inset 0px 0px 0px 2px #F000FF",d("Seen Dynamic position:",[c])),i){var l=void 0!==c.ribbonClass?c.ribbonClass:"";upScore.initDynamicPosition(a,c.url,c.path,l)}o||(e.push(c),t[c.path]=!0)}}.bind(n,a))};for(h=0;h<v.length;h++)m()};for(g=0;g<a.length;g++)m()}}();if("object"===(void 0===m?"undefined":r(m)))return m.v}catch(e){(0,a.sendError)("refreshDynamicPositions",e)}},upScore.refreshPositions=l,{init:function(){l();var r=2===upScore.config.debug;try{if(e=[],t={},n=[],!upScore.config.positions)return;for(var s in u=1,v(),c){if(c.hasOwnProperty(s))c[s].node.dataset.upscorePosition=void 0}c={};for(var p=0;p<upScore.config.positions.length;p++)for(var g=upScore.config.positions[p],h=document.querySelectorAll(g.container),m=Array.prototype.slice.call(h,0),y=0;y<m.length;y++){var S=m[y];if(!(0,o.isIgnored)(S)){var b={node:S,urlSelector:g.urlSelector,imageSelector:g.imageSelector,titleSelector:g.titleSelector,articlePosition:g.articlePosition},w=(0,o.tracePath)(S,g.articlePosition);c[w]=b,void 0!==S.dataset.upscorePosition&&r&&console.log("Overwriting position: ",f(S)),S.dataset.upscorePosition=w;(0,i.InViewport)(S,.8*-S.offsetHeight,function(t){var n=f(t);r&&(t.style.boxShadow="inset 0px 0px 0px 1px #f00",d("Seen positions:",[n])),e.push({url:n.url,path:n.path})}.bind(this,S))}}if(r){var _={};for(var s in c)if(c.hasOwnProperty(s)){var x=f(c[s].node);_[x.path]=x}d("Tracked positions:",_)}}catch(e){(0,a.sendError)("init-positions",e)}},getClickedPositionUrl:function(e){for(var t=0;t++<=10&&null!=e;){if(void 0!==e.dataset.upscorePosition){var r=c[e.dataset.upscorePosition];return r||(r=s(e)),n.push({url:r.url,path:r.path}),r.url}e=e.parentElement}return null},getPositions:function(){if(e.length>0||n.length>0){var t={};return e.length>0&&(t.seen=e,e=[]),n.length>0&&(t.clicked=n[0],n=[]),t.viewport_width=window.innerWidth||document.documentElement.clientWidth||0,t.domain=upScore.config.domain,upScore.config.trackArticles&&"article"===upScore.data.object_type?void 0!==upScore.config.articlePositionPageName?t.page=t.domain+upScore.config.articlePositionPageName():t.page=t.domain+"-article":t.page=upScore.page,t}return null}}}()},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpScoreStore=void 0;var r=n(0),o=n(1);t.UpScoreStore=function(){var e=null,t=!1;try{if(t=(0,r.isLocalStorageAvailable)())try{var n=localStorage.getItem("domain_b4gfe");if(null!=n){var i=(0,r.xor_decode)("domain_b4gfe",n);e=JSON.parse(i)}}catch(e){(0,o.sendError)("store-parse",ex)}null==e&&(e={uuid:0,ct:(new Date).getTime(),sId:"-",sl:0,sd:0,la:0,s:"",u:"",va:[],st:null}),c()}catch(e){(0,o.sendError)("store-load",e)}function a(){e.la=(new Date).getTime();var t=parseInt((e.la-e.ct)/1e3);return t<0&&(t=0),e.sd=t,c(),e}function c(){try{if(t){var n=(0,r.xor_encode)("domain_b4gfe",JSON.stringify(e));localStorage.setItem("domain_b4gfe",n)}}catch(e){(0,o.sendWarning)("store-load - Cant set a new item to localStorage!",e),t=!1}}return{get:function(t){return null==t?Object.assign({},e):e[t]},set:function(t,n){e[t]=n,c()},update_section:function(t,n){return e.u=(0,r.extractRootDomain)(document.location.href),e.s=null!=t?t.split(",")[0].trim():"",function(t){var n=(new Date).getTime();t&&"-"==e.sId&&(e.sId=(0,r.SesID)());n-e.la>18e5&&(e.ct=(new Date).getTime(),e.sId=t?(0,r.SesID)():"",e.sl=0,e.sd=0);e.sl+=1}(n),a()},activityUpdate:function(){return a()},getSection:function(){if(void 0!==document.referrer&&""!==document.referrer){var t=(0,r.extractRootDomain)(document.referrer);if(e.u===t)return e.s}return""},update_loyalty:function(t,n){return e.va=n,e.st=t,a()}}}()},function(e,t,n){"use strict";n(10).polyfill()},function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),a=0,c=i.length;a<c;a++){var u=i[a],l=Object.getOwnPropertyDescriptor(o,u);void 0!==l&&l.enumerable&&(n[u]=o[u])}}return n}e.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateLoyalty=function(){var e=upScore.store,t=Date.now(),n=e.get("st"),o=e.get("va");if(null==n)(o=Array.apply(0,new Array(30)).map((function(e){return 0})))[0]=1;else{var i=(0,r.days_diff)(n,t);if(0==i)o[0]++;else{for(var a=0;a<i;a++)o.unshift(0);(o=o.slice(0,30))[0]=1}}"L"!=upScore.data.loyalty&&(upScore.data.loyalty=function(e){for(var t=0,n=0,r=upScore.config.loyalty,o=0;o<r.loyal.days;o++)null!=e[o]&&e[o]>=r.page_count&&(t++,o<r.repeat.days&&n++);return t>=r.loyal.visits?"L":n>=r.repeat.visits?"R":"N"}(o));e.update_loyalty(t,o)};var r=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollFocus=void 0;var r=n(0),o=[15,25,35,45,50,40,25,20,10,5];t.ScrollFocus=function(){for(var e=null,t=[],n=0;n<20;n++)t[n]=0;function i(e,t){for(var n=Math.round(t/20),r=[],o=0;o<20;o++)r[o]=e+n*o;return r}function a(e){return e.reduce((function(e,t){return e+t.scrollHeight}),1)}return{init:function(){var n=void 0!==upScore.config.scrollFocus&&""!==upScore.config.scrollFocus?function(e){try{for(var t=[],n=function(e){return"landingpage"===upScore.data.object_type?void 0===e.landingpage?"":e.landingpage:void 0===e.article?"":e.article}(e),o=0;o<n.length;o++){var i=document.querySelector(n[o]);i&&t.push(i)}return 0==t.length?(0,r.getArrayFromNodeList)(document.querySelectorAll("body")):t}catch(e){return(0,r.getArrayFromNodeList)(document.querySelectorAll("body"))}}(upScore.config.scrollFocus):(0,r.getArrayFromNodeList)(document.querySelectorAll("body")),c=(0,r.getTopCoordinate)(n[0]),u=a(n),l=Math.round(u/20),s=i(c,u),d=function(){var e=window.pageYOffset,d=(window.innerHeight,window.innerHeight/10),f=a(n);f!=u&&(c=(0,r.getTopCoordinate)(n[0]),u=f,l=Math.round(u/20),s=i(c,u));for(var p=[],v=0;v<10;v++)p[v]=-1;for(var g=0,h=0;h<20;h++){var m=s[h],y=m+l;if(g>=10)break;for(;g<10;){var S=e+d*g;if(y<S)break;m<=S+d&&y>S&&(p[g]=h),g++}}for(var b=0;b<10;b++){var w=p[b];-1!=w&&(t[w]+=o[b])}};d(),e=window.setInterval(d,1e3)},getHeatMap:function(){clearInterval(e);var n=t.slice(),r=n.reduce((function(e,t){return e+t}),0);if(0===r)return null;r/=1e3;for(var o=0;o<20;o++)n[o]=Math.round(n[o]/r);return n.join("-")}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClickHeatMap=void 0;var r=n(0),o=n(1);t.ClickHeatMap=function(){var e={sample:.1,container:"container",ignore:[[100,600]],defaultClickType:"default",heatmapIgnore:[],specialCanvas:[]},t=[];function n(e){var t=[];if(void 0!==e)for(var n=0;n<e.length;n++){var r=document.querySelectorAll(e[n]);r.length>0&&t.push.apply(t,r)}return t}function i(e){return e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY}return{init:function(){upScore.config.heatmap=Object.assign({},e,upScore.config.heatmap)},add:function(e){try{var a=upScore.config.heatmap;if(null==a)return void(0,o.sendWarning)("ClickHeatMap-add missing config",JSON.stringify(upScore.config));if(1!=a.sample&&a.sample<Math.random())return;var c=window.innerWidth,u="default",l=(0,r.eventPath)(e),s=document.querySelectorAll(a.container)[0];if(void 0===s)return;var d=a.ignore;if(void 0!==d)for(var f=0;f<d.length;f++){var p=d[f];if(p[0]<c&&p[1]>c)return}for(var v=n(a.heatmapIgnore),g=0;g<v.length;g++)if(-1!==l.indexOf(v[g]))return;for(var h=n(a.specialCanvas),m=0;m<h.length;m++)-1!==l.indexOf(h[m])&&(u="-"+h[m].className+"-");var y=function(){var e=[],t=upScore.config.heatmap,n=document.querySelectorAll(t.container)[0];if(void 0!==t.heatmapIgnore)for(var r=0;r<t.heatmapIgnore.length;r++){var o=document.querySelectorAll(t.heatmapIgnore[r]),i=Array.prototype.slice.call(o).filter((function(e){return e.offsetWidth>=n.offsetWidth}));i.length>0&&e.push.apply(e,i)}return e}(),S=function(e,t,n,a){try{var c=n.offsetWidth,u=n.offsetTop;if(0===c)return;var l=(window.innerWidth-c)/2,s=(l=l>0?l:0)+c,d=0;e>l&&e<s?d=e-l:e<l?d=100/l*e-100:e>s&&(d=100/l*(e-s)+c+100);var f=(0,r.getIgnoreAndAdvElementsOffset)(a,t),p=u+f,v=t-p,g=d.toFixed(0),h=v.toFixed(0);if(i(g)||i(h))return;return{corrected_Y:h,corrected_X:g,paddingLeft:l,paddingTop:p}}catch(e){(0,o.sendError)("click-heatmap-add - getCorrectedHitCoordinates",e)}}(e.pageX,e.pageY,s,y);if(!S)return;0,t.push([S.corrected_X,S.corrected_Y,s.offsetWidth,u])}catch(e){(0,o.sendError)("click-heatmap-add",e)}},pop:function(){if(t.length>0){var e=t;return t=[],e}return null}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addParticle=function(e){try{var t=new o.Events;e.id=upScore.particles.length,e.type="init";return upScore.particles.push({data:e,events:t,initSent:!1,finalSent:!1}),{addEvent:function(n){e.type="pulse",t.add(n)},finalize:function(){e.type="final"}}}catch(e){(0,r.sendError)("add-particle",e)}},t.packParticles=function(){try{for(var e=upScore.particles,t={},n=0;n<e.length;n++){var o=e[n];if(!o.finalSent){var i={};if(o.initSent||(Object.assign(i,o.data),o.initSent=!0),0!==o.events.count()){var a=o.events.popObj();Object.assign(i,{events:a,type:"pulse"})}"final"===o.data.type&&(Object.assign(i,{type:"final"}),o.finalSent=!0),0!==Object.keys(i).length&&(t[n]=i)}}return 0===Object.keys(t).length?null:t}catch(e){(0,r.sendError)("pack-particle",e)}};var r=n(1),o=n(3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessCommands=function(e){var t=function(e){if(""===e)return{};for(var t={},n=0;n<e.length;++n){var r=e[n].split("=",2);1==r.length?t[r[0]]="":t[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return t}(window.location.search.substr(1).split("&")),n=window.location.hash;void 0!==t.upScoreDebug&&(e.set("debug",t.upScoreDebug),window.location.search="");var r="#enableUpScoreHUD";n!==r&&void 0===t.upScoreHUD||(upScore.hud_active=!0,localStorage.setItem(r,1),n===r&&history.pushState("",document.title,window.location.pathname+window.location.search))}}]);